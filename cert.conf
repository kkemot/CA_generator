# ============================================
# ROOT CA CONFIGURATION
# ============================================
[root_ca]
name = "ExampleOrg - Root CA"
organization = "ExampleOrg"
country = "PL"
state = "ExampleRegion"
locality = "ExampleCity"
email = ""
validity_days = 18250  # 50 years
key_size = 4096

# ============================================
# INTERMEDIATE CA CONFIGURATION
# ============================================
[intermediate_ca]
name = "ExampleOrg - Intermediate CA"
organization = "ExampleOrg"
country = "PL"
state = "ExampleRegion"
locality = "ExampleCity"
email = ""
validity_days = 9125  # 25 years
key_size = 4096

# ============================================
# SERVER CERTIFICATE CONFIGURATION
# ============================================
[server_cert]
validity_days = 365  # 1 year - browser compliant
key_size = 2048  # Industry standard - optimal balance of security and performance
# Default DNS names for Subject Alternative Names (SAN)
# Note: These are overridden when generating specific certificates
dns_names = "*.homelab.local,homelab.local,*.k8s.local,k8s.local"

# ============================================
# KUBERNETES CERT-MANAGER INTEGRATION
# ============================================
[kubernetes]
# Set to true to generate cert-manager compatible secrets
enable_k8s_export = true
namespace = "cert-manager"
# Secret name for CA certificate
ca_secret_name = "homelab-ca-secret"

# ============================================
# DIRECTORY STRUCTURE
# ============================================
[directories]
output_dir = "./certs"
root_ca_dir = "./certs/root-ca"
intermediate_ca_dir = "./certs/intermediate-ca"
server_certs_dir = "./certs/server"
k8s_export_dir = "./certs/kubernetes"

# ============================================
# OPENSSL CERTIFICATE EXTENSIONS
# ============================================
# These extensions define certificate properties and constraints
# Used internally by OpenSSL during certificate generation

[req]
distinguished_name = req_distinguished_name
x509_extensions = v3_ca
prompt = no

[req_distinguished_name]
# Will be populated dynamically by script

[v3_ca]
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints = critical, CA:true
keyUsage = critical, digitalSignature, cRLSign, keyCertSign

[v3_intermediate_ca]
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints = critical, CA:true, pathlen:0
keyUsage = critical, digitalSignature, cRLSign, keyCertSign

[v3_server_cert]
basicConstraints = CA:FALSE
nsCertType = server
nsComment = "OpenSSL Generated Server Certificate"
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer:always
keyUsage = critical, digitalSignature, keyEncipherment
extendedKeyUsage = serverAuth
subjectAltName = @alt_names

[alt_names]
# Will be populated dynamically by script

